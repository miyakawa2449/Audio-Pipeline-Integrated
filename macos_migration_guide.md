# MacBook Pro M4 Pro ç’°å¢ƒç§»è¡Œã‚¬ã‚¤ãƒ‰

## ğŸ MacBook Pro M4 Pro / 48GB ã§ã® Audio Pipeline Integrated ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ä»•æ§˜ç¢ºèª
- **CPU**: M4 Pro (é«˜åŠ¹ç‡éŸ³å£°å‡¦ç†)
- **ãƒ¡ãƒ¢ãƒª**: 48GB (å¤§è¦æ¨¡ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆå¯¾å¿œ)
- **GPU**: çµ±åˆGPU (PyTorch MPSåŠ é€Ÿ)
- **éŸ³å£°**: é«˜å“è³ªå†…è”µãƒã‚¤ã‚¯ + å¤–éƒ¨ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªI/Få¯¾å¿œ

## ğŸ› ï¸ macOS ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †

### 1. Homebrew ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```bash
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
```

### 2. Pythonç’°å¢ƒæ§‹ç¯‰ (condaæ¨å¥¨)
```bash
# Miniconda for Apple Silicon
wget https://repo.anaconda.com/miniconda/Miniconda3-latest-MacOSX-arm64.sh
bash Miniconda3-latest-MacOSX-arm64.sh

# ç’°å¢ƒä½œæˆ
conda create -n audio-pipeline python=3.10
conda activate audio-pipeline
```

### 3. éŸ³å£°å‡¦ç†ãƒ©ã‚¤ãƒ–ãƒ©ãƒª (Apple Siliconæœ€é©åŒ–ç‰ˆ)
```bash
# PyTorch (MPSå¯¾å¿œç‰ˆ)
conda install pytorch torchaudio -c pytorch

# éŸ³å£°å‡¦ç†ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
conda install numpy matplotlib scipy -c conda-forge
pip install sounddevice soundfile librosa

# macOSéŸ³å£°å‡¦ç†æ‹¡å¼µ
brew install portaudio
pip install pyaudio  # macOS Core Audio çµ±åˆ
```

### 4. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç§»è¡Œ
```bash
# ãƒªãƒã‚¸ãƒˆãƒªã‚¯ãƒ­ãƒ¼ãƒ³
git clone <your-repo-url> Audio-Pipeline-Integrated
cd Audio-Pipeline-Integrated

# ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install -r requirements.txt
```

## ğŸ™ï¸ macOS éŸ³å£°è¨­å®š

### ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªãƒ‡ãƒã‚¤ã‚¹è¨­å®š
```bash
# éŸ³å£°ãƒ‡ãƒã‚¤ã‚¹ç¢ºèªã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œ
python Python_Audio_dataset/script/check_audio_devices.py
```

### å†…è”µãƒã‚¤ã‚¯ã®å“è³ªè¨­å®š
- **ã‚·ã‚¹ãƒ†ãƒ ç’°å¢ƒè¨­å®š** â†’ **ã‚µã‚¦ãƒ³ãƒ‰** â†’ **å…¥åŠ›**
- **å…¥åŠ›ãƒ¬ãƒ™ãƒ«**: é©åˆ‡ã«èª¿æ•´
- **å‘¨å›²éŸ³é™¤å»**: å¿…è¦ã«å¿œã˜ã¦æœ‰åŠ¹

### å¤–éƒ¨ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ (æ¨å¥¨)
ãƒ—ãƒ­å“è³ªéŒ²éŸ³ã®ãŸã‚ã€ä»¥ä¸‹ã‚’æ¨å¥¨ï¼š
- **Focusrite Scarlett Solo** (ã‚¨ãƒ³ãƒˆãƒªãƒ¼)
- **Zoom PodTrak P4** (ãƒãƒƒãƒ‰ã‚­ãƒ£ã‚¹ãƒˆç‰¹åŒ–)
- **Universal Audio Apollo Twin** (ãƒ—ãƒ­ä»•æ§˜)

## âš¡ Apple Silicon M4 Pro æœ€é©åŒ–

### PyTorch MPS (Metal Performance Shaders) æœ‰åŠ¹åŒ–
```python
# voice_cloner.py ã§ã®è‡ªå‹•MPSæ¤œå‡º
import torch
device = torch.device('mps' if torch.backends.mps.is_available() else 'cpu')
print(f"Using device: {device}")
```

### ãƒ¡ãƒ¢ãƒªæœ€é©åŒ– (48GBæ´»ç”¨)
```python
# å¤§ãƒãƒƒãƒã‚µã‚¤ã‚ºã§ã®é«˜é€Ÿå­¦ç¿’
batch_size = 16  # é€šå¸¸ã®4å€
learning_rate = 0.001
```

### ä¸¦åˆ—å‡¦ç†æœ€é©åŒ–
```python
# ãƒãƒ«ãƒã‚³ã‚¢æ´»ç”¨
import multiprocessing
num_workers = multiprocessing.cpu_count()  # M4 Pro ã®å…¨ã‚³ã‚¢æ´»ç”¨
```

## ğŸ”§ macOS å›ºæœ‰ã®è¨­å®š

### 1. éŸ³å£°éŒ²éŸ³æ¨©é™
```bash
# ãƒã‚¤ã‚¯ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ãŒå¿…è¦
# ã‚·ã‚¹ãƒ†ãƒ ç’°å¢ƒè¨­å®š â†’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¨ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ â†’ ãƒã‚¤ã‚¯
# Terminalã¾ãŸã¯ä½¿ç”¨ã™ã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¨±å¯
```

### 2. ãƒ•ã‚¡ã‚¤ãƒ«æ›¸ãè¾¼ã¿æ¨©é™
```bash
# ãƒ•ãƒ«ãƒ‡ã‚£ã‚¹ã‚¯ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ (å¿…è¦æ™‚)
# ã‚·ã‚¹ãƒ†ãƒ ç’°å¢ƒè¨­å®š â†’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¨ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ â†’ ãƒ•ãƒ«ãƒ‡ã‚£ã‚¹ã‚¯ã‚¢ã‚¯ã‚»ã‚¹
```

### 3. Gatekeeperè¨­å®š
```bash
# æœªç½²åã‚¢ãƒ—ãƒªã®å®Ÿè¡Œè¨±å¯ (å¿…è¦æ™‚)
sudo spctl --master-disable  # æ³¨æ„: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒªã‚¹ã‚¯ã‚ã‚Š
```

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ã®æœ€é©åŒ–

### macOSç‰¹åŒ–ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 
```
Audio-Pipeline-Integrated/
â”œâ”€â”€ dataset/
â”‚   â”œâ”€â”€ audio_files/         # éŒ²éŸ³ãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”œâ”€â”€ meta_files/          # ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿
â”‚   â””â”€â”€ processed/           # å‰å‡¦ç†æ¸ˆã¿
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ pytorch_models/      # MPSæœ€é©åŒ–ãƒ¢ãƒ‡ãƒ«
â”‚   â””â”€â”€ checkpoints/         # å­¦ç¿’ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆ
â”œâ”€â”€ output/
â”‚   â”œâ”€â”€ synthesized/         # åˆæˆéŸ³å£°
â”‚   â””â”€â”€ analysis/           # åˆ†æçµæœ
â””â”€â”€ config/
    â”œâ”€â”€ macos_audio.yaml     # macOSéŸ³å£°è¨­å®š
    â””â”€â”€ m4_pro_config.yaml   # M4 Proæœ€é©åŒ–è¨­å®š
```

## ğŸ§ª å‹•ä½œç¢ºèªæ‰‹é †

### 1. åŸºæœ¬æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ
```bash
# çµ±åˆã‚·ã‚¹ãƒ†ãƒ èµ·å‹•
python integrated_main.py

# ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã€Œ4ã€ã§çµ±åˆã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç¢ºèª
```

### 2. éŒ²éŸ³æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ
```bash
# Python_Audio_dataset èµ·å‹•
python Python_Audio_dataset/src/main.py

# 'r' ã‚³ãƒãƒ³ãƒ‰ã§éŒ²éŸ³ãƒ†ã‚¹ãƒˆ
```

### 3. AudioOpt å­¦ç¿’ãƒ†ã‚¹ãƒˆ
```bash
# AudioOpt èµ·å‹•
cd AudioOpt
python main.py

# ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã€Œ1ã€ã§ãƒ¢ãƒ‡ãƒ«è¨“ç·´ãƒ†ã‚¹ãƒˆ
```

## ğŸµ macOSéŸ³å£°å“è³ªæœ€é©åŒ–

### éŒ²éŸ³å“è³ªè¨­å®š
```python
# audio_recorder.py ã§ã®æœ€é©åŒ–
sample_rate = 48000  # macOSæ¨å¥¨ãƒ¬ãƒ¼ãƒˆ
channels = 1         # ãƒ¢ãƒãƒ©ãƒ«éŒ²éŸ³
dtype = 'float32'    # é«˜ç²¾åº¦
```

### Core Audioçµ±åˆ (å°†æ¥ã®æ‹¡å¼µ)
```python
# AVFoundationçµŒç”±ã§ã®é«˜å“è³ªéŒ²éŸ³
import AVFoundation  # å°†æ¥å®Ÿè£…
```

## ğŸš€ æ€§èƒ½ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ (äºˆæƒ³å€¤)

### M4 Pro ã§ã®å‡¦ç†æ™‚é–“
- **éŒ²éŸ³**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ  (é…å»¶ < 10ms)
- **å‰å‡¦ç†**: 10åˆ†éŸ³å£° â†’ 30ç§’å‡¦ç†
- **ãƒ¢ãƒ‡ãƒ«å­¦ç¿’**: 100ã‚¨ãƒãƒƒã‚¯ â†’ 15åˆ†
- **éŸ³å£°åˆæˆ**: 1æ–‡ â†’ 2ç§’ç”Ÿæˆ

### ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ (48GBæ´»ç”¨)
- **ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆ**: 5GB (1000ãƒ•ã‚¡ã‚¤ãƒ«)
- **ãƒ¢ãƒ‡ãƒ«å­¦ç¿’**: 8GB
- **éŸ³å£°åˆæˆ**: 2GB
- **ã‚·ã‚¹ãƒ†ãƒ ä½™è£•**: 30GBä»¥ä¸Š

## ğŸ“± macOSçµ±åˆæ©Ÿèƒ½ (å°†æ¥æ‹¡å¼µ)

### Siri Shortcutsé€£æº
- **éŸ³å£°éŒ²éŸ³**: Siriã‚³ãƒãƒ³ãƒ‰ã§éŒ²éŸ³é–‹å§‹
- **éŸ³å£°åˆæˆ**: ãƒ†ã‚­ã‚¹ãƒˆèª­ã¿ä¸Šã’è‡ªå‹•åŒ–

### ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆå¯¾å¿œ
- **é€²æ—è¡¨ç¤º**: å­¦ç¿’ãƒ»éŒ²éŸ³é€²æ—ã‚’ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã§ç¢ºèª
- **ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚·ãƒ§ãƒ³**: ã‚ˆãä½¿ã†æ©Ÿèƒ½ã®ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ

### iCloudåŒæœŸ
- **ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆ**: è¤‡æ•°Macé–“ã§ã®è‡ªå‹•åŒæœŸ
- **è¨­å®š**: ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ãƒ»è¨­å®šã®åŒæœŸ

## ğŸ” ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®š

### ãƒã‚¤ã‚¯ã‚¢ã‚¯ã‚»ã‚¹ç®¡ç†
```bash
# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³æ¯ã®ãƒã‚¤ã‚¯ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡
# ã‚·ã‚¹ãƒ†ãƒ ç’°å¢ƒè¨­å®šã§å€‹åˆ¥ã«ç®¡ç†
```

### ãƒ‡ãƒ¼ã‚¿æš—å·åŒ–
```bash
# FileVaultæœ‰åŠ¹åŒ–æ¨å¥¨
# éŸ³å£°ãƒ‡ãƒ¼ã‚¿ã®æš—å·åŒ–ä¿è­·
```

## ğŸ› ï¸ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œ

#### 1. ãƒã‚¤ã‚¯ã‚¢ã‚¯ã‚»ã‚¹æ‹’å¦
```
è§£æ±º: ã‚·ã‚¹ãƒ†ãƒ ç’°å¢ƒè¨­å®š â†’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¨ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ â†’ ãƒã‚¤ã‚¯
     Terminalã¾ãŸã¯ã‚¢ãƒ—ãƒªã‚’è¨±å¯
```

#### 2. PyTorch MPS ã‚¨ãƒ©ãƒ¼
```python
# ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯è¨­å®š
device = torch.device('mps' if torch.backends.mps.is_available() else 'cpu')
```

#### 3. éŸ³å£°ãƒ‡ãƒã‚¤ã‚¹èªè­˜å•é¡Œ
```bash
# éŸ³å£°ã‚·ã‚¹ãƒ†ãƒ ãƒªã‚»ãƒƒãƒˆ
sudo killall coreaudiod
```

#### 4. ãƒãƒ¼ãƒˆç«¶åˆ
```bash
# ãƒãƒ¼ãƒˆä½¿ç”¨çŠ¶æ³ç¢ºèª
lsof -i :8080
```

## ğŸ“Š ç§»è¡Œãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### äº‹å‰æº–å‚™
- [ ] MacBook Pro M4 Pro ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å®Œäº†
- [ ] Homebrew ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
- [ ] Condaç’°å¢ƒæ§‹ç¯‰
- [ ] éŸ³å£°ãƒ‡ãƒã‚¤ã‚¹æ¥ç¶šãƒ»ãƒ†ã‚¹ãƒˆ

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç§»è¡Œ
- [ ] ãƒªãƒã‚¸ãƒˆãƒªã‚¯ãƒ­ãƒ¼ãƒ³
- [ ] ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
- [ ] è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«èª¿æ•´
- [ ] æ¨©é™è¨­å®šå®Œäº†

### å‹•ä½œç¢ºèª
- [ ] çµ±åˆã‚·ã‚¹ãƒ†ãƒ èµ·å‹•ç¢ºèª
- [ ] éŒ²éŸ³æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ
- [ ] AudioOptå­¦ç¿’ãƒ†ã‚¹ãƒˆ
- [ ] éŸ³å£°åˆæˆãƒ†ã‚¹ãƒˆ

### æœ€é©åŒ–
- [ ] MPSåŠ é€Ÿç¢ºèª
- [ ] å¤§ãƒãƒƒãƒã‚µã‚¤ã‚ºãƒ†ã‚¹ãƒˆ
- [ ] ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡æœ€é©åŒ–
- [ ] å‡¦ç†é€Ÿåº¦ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯

## ğŸ‰ ç§»è¡Œå®Œäº†å¾Œã®åˆ©ç‚¹

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Š
- **å‡¦ç†é€Ÿåº¦**: 3-5å€é«˜é€ŸåŒ–
- **ãƒ¡ãƒ¢ãƒªåŠ¹ç‡**: å¤§è¦æ¨¡ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆå¯¾å¿œ
- **éŸ³å£°å“è³ª**: ãƒ—ãƒ­ãƒ¬ãƒ™ãƒ«ã®éŒ²éŸ³ãƒ»å‡¦ç†

### é–‹ç™ºåŠ¹ç‡å‘ä¸Š
- **çµ±åˆç’°å¢ƒ**: Xcode, Logic Proç­‰ã¨ã®é€£æº
- **macOSé€£æº**: ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã¨ã®çµ±åˆ
- **ãƒ—ãƒ­ãƒ„ãƒ¼ãƒ«**: è±Šå¯ŒãªéŸ³å£°å‡¦ç†ãƒ„ãƒ¼ãƒ«

---

**ğŸ MacBook Pro M4 Pro ã§æœ€é«˜å“è³ªã®éŸ³å£°å‡¦ç†ç’°å¢ƒã‚’æ§‹ç¯‰ã—ã¾ã—ã‚‡ã†ï¼**